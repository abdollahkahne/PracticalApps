{"version":3,"sources":["clientside.js","logo.svg","Follower.jsx","MyFollowers.jsx","User.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","client_id","token","expired","uid","user","getloginHref","version","baseUrl","document","location","origin","onLoginButtonClick","window","open","handleLogin","expire","hash","substr","queryStringObject","URLSearchParams","state","get","Date","now","Number","parseInt","success","data","user_id","access_token","callAPI","callback","methodName","parameters","Promise","resolve","reject","callBackFunctionName","split","join","cb","result","err","params","Object","keys","length","forEach","key","apiScript","createElement","url","src","async","body","appendChild","getUserProfileAPI","response","__callBackVK","Followers","this","props","follower","photo","first_name","last_name","Col","sm","Card","ImgOverlay","Img","React","Component","followers","Row","CardColumns","map","f","id","User","client","clientSide","App","signedIn","console","log","setState","u","fields","className","logo","alt","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.63c3c7fb.chunk.js","sourcesContent":["module.exports=(client_id)=>{\n    let token,expired,uid,user;\n\n    //On Login Button Click this function should be run\n    const onLoginButtonClick=(version=\"5.130\")=>{\n        const baseUrl=document.location.origin;\n        window.open(`https://oauth.vk.com/authorize?client_id=${client_id}&display=page&redirect_uri=${baseUrl}&response_type=token&v=${version}&state=login`,\"_self\");\n    }\n\n    //if you want to use <a> tag use this function to generate a tag\n    const getloginHref=(version=\"5.130\")=>{\n        const baseUrl=document.location.origin;\n        return `https://oauth.vk.com/authorize?client_id=${client_id}&display=popup&redirect_uri=${baseUrl}&response_type=token&v=${version}&state=login`;\n    }\n\n    // Run this function on Component Did Mount\n    const handleLogin=()=> {\n        let expire;\n        const hash=document.location.hash.substr(1);\n        const queryStringObject=new URLSearchParams(hash);\n        const state=queryStringObject.get(\"state\");\n        if (state && state===\"login\") {\n            uid=queryStringObject.get(\"user_id\");\n            token=queryStringObject.get(\"access_token\");\n            expire=queryStringObject.get(\"expire\");\n            expired=Date.now()+Number.parseInt(expire)*1000;\n            \n            return {success:true,data:{user_id:uid,access_token:token,expire}};\n        } else {\n            return {success:false,data:null};\n        }\n    }\n\n    // Call Usser API\n    const getUserProfileAPI=(callback,version=\"5.130\")=> {\n        if (!token || Date.now>expired) {\n            return new Promise((resolve,reject)=>{reject(\"No Valid access token or Expired Token\");});\n        }\n        \n        const cb=result=>{\n            if(!result.err) {\n                user=result.response[0];\n                callback(user);\n            } else {user=null}\n        };\n\n        const url=`https://api.vk.com/method/getProfiles?uid=${uid}&access_token=${token}&v=${version}&callback=__callBackVK`;\n        const apiScript=document.createElement(\"script\");\n        apiScript.src = url;\n        apiScript.async=true;\n        // script.id=\"VK_api_call\"\n        window.__callBackVK=(result)=>{\n            cb(result);\n            // if (apiScript.parentNode) {\n            //     apiScript.parentNode.removeChild(apiScript);\n            // }\n        }\n        document.body.appendChild(apiScript);\n\n    }\n\n    // Call other APIs in the Frontend when you need it\n    const callAPI=(callback,methodName,parameters={},version=\"5.130\") =>{\n        if (!token || Date.now>expired) {\n            return new Promise((resolve,reject)=>{reject(\"No Valid access token or Expired Token\");});\n        }\n\n        if (typeof parameters!==\"object\") {\n            return new Promise((resolve,reject)=>{reject(\"Bad Form of Parameters. You should insert an Object!\");});\n        }\n\n        const callBackFunctionName=`__${methodName.split(\".\").join(\"_\")}`;\n\n        const cb=result=>{\n            if(!result.err) {\n                callback(result);\n            }\n        };\n\n        let params=\"\";\n        if (Object.keys(parameters).length>0) {\n            Object.keys(parameters).forEach((key)=>{\n                params+=key+\"=\"+parameters[key]+\"&\";\n            });\n        }       \n        const apiScript=document.createElement(\"script\");\n        window[callBackFunctionName]=(result)=>{\n            cb(result);\n            // if (apiScript.parentNode) {\n            //     apiScript.parentNode.removeChild(apiScript);\n            // }\n        }\n\n        const url=`https://api.vk.com/method/${methodName}?${params}access_token=${token}&v=${version}&callback=${callBackFunctionName}`;\n        apiScript.src = url;\n        apiScript.async=true;\n        document.body.appendChild(apiScript);\n    }\n\n    return {getloginHref,onLoginButtonClick,handleLogin,callAPI,getUserProfileAPI};\n}","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\n\nexport default class Followers extends React.Component {\n\n\n    render() {\n        const {follower:{photo,first_name,last_name}}=this.props;\n        return (\n            <Col sm={4}>\n            <Card>\n                <Card.ImgOverlay>\n                    <Card.Img src={photo} />\n                </Card.ImgOverlay>\n                <span>{`${first_name} ${last_name}`}</span>\n            </Card>\n            </Col>\n        )\n    }\n}","import React from \"react\";\nimport Follower from \"./Follower.jsx\";\nimport Row from \"react-bootstrap/Row\";\nimport CardColumns from \"react-bootstrap/CardColumns\"\n\nexport default class Followers extends React.Component {\n    \n    render() {\n        const {followers}=this.props;\n        return (\n            <Row>\n                <CardColumns>\n                    {followers.map(f=><Follower key={f.id} follower={f} />)}\n                </CardColumns>\n                \n            </Row>\n            \n        )\n    }\n}","import React from \"react\";\n\nexport default class User extends React.Component {\n    render() {\n        const {first_name,last_name}=this.props;\n        return (<div>\n            <small>{first_name}</small>\n            <small>{last_name}</small>\n        </div>);\n    }\n}","import logo from './logo.svg';\nimport './App.css';\nimport clientSide from \"./clientside.js\";\nimport React from 'react';\nimport Followers from \"./MyFollowers.jsx\";\nimport User from \"./User.jsx\";\n\nconst client=clientSide(7852910);\n\nexport default class App extends React.Component {\n  constructor(props) {\n  \n    super(props);\n    this.state={\n      signedIn:false,\n      followers:[],\n      user:null\n    }\n  }\n\n  componentDidMound() {\n    const {signedIn}=this.state;\n    console.log(\"I am Mounted\");\n    if (!signedIn) {\n      const {success}=client.handleLogin();\n      if (success) {\n        this.setState({signedIn:true});\n        // const cb=(u)=>this.setState({user:u});\n        const cb=(u)=>console.log(u);\n        client.getUserProfileAPI(cb);\n      }\n    }\n  }\n\n\n  componentDidUpdate() {\n    const {signedIn}=this.state;\n    console.log(\"I am updated\");\n    if (signedIn) {\n      const cb=(result)=>this.setState({followers:result.response});\n      client.callAPI(cb,\"users.getFollowers\",{user_id:1855,fields:\"photo,photo_medium,photo_big,online\"});\n    }\n  }\n\n  render() {\n    const {signedIn,followers,user}=this.state;\n  if (!signedIn) {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.js</code> and save to reload.\n          </p>\n          <a\n            className=\"App-link\"\n            href={client.getloginHref()}\n          >\n            Login\n          </a>\n        </header>\n      </div>);\n    } else \n    {\n      return (<>\n        <User user={user} />\n        <Followers followers={followers} />\n        </>);\n    }\n  }\n  \n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}